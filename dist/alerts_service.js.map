{"version":3,"sources":["../src/alerts_service.js"],"names":[],"mappings":";;;;;;;;;;;;;;sBAAc,QAAQ;;;;;AAIT,oBAAC,IAAW,EAAE;QAAX,OAAO,GAAT,IAAW,CAAT,OAAO;;;;AACnB,QAAI,CAAC,OAAO,EAAE;AACZ,YAAM,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC;KAC3D;AACD,QAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;AAC3B,QAAI,CAAC,MAAM,GAAG,EAAE,CAAC;AACjB,QAAI,CAAC,SAAS,GAAG,IAAI,OAAO,CAAC,UAAU,EAAE,CAAC;GAC3C;;;;WAEG,gBAAG;AACL,UAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;AACxB,aAAO,oBAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC7B;;;WACG,cAAC,KAA6G,EAAE;UAA7G,KAAK,GAAP,KAA6G,CAA3G,KAAK;UAAE,OAAO,GAAhB,KAA6G,CAApG,OAAO;+BAAhB,KAA6G,CAA3F,YAAY;UAAZ,YAAY,sCAAG,IAAI;UAAE,SAAS,GAAhD,KAA6G,CAAtE,SAAS;UAAE,WAAW,GAA7D,KAA6G,CAA3D,WAAW;UAAE,aAAa,GAA5E,KAA6G,CAA9C,aAAa;uBAA5E,KAA6G,CAA/B,IAAI;UAAJ,IAAI,8BAAG,SAAS;uBAA9F,KAA6G,CAAb,IAAI;UAAJ,IAAI,8BAAG,IAAI;;AAC9G,UAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AACf,aAAK,EAAL,KAAK;AACL,eAAO,EAAP,OAAO;AACP,iBAAS,EAAT,SAAS;AACT,mBAAW,EAAX,WAAW;AACX,qBAAa,EAAb,aAAa;AACb,oBAAY,EAAZ,YAAY;AACZ,YAAI,EAAJ,IAAI;AACJ,YAAI,EAAJ,IAAI;AACJ,WAAG,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;OACxB,CAAC,CAAC;AACH,UAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KAC1B;;;WAEI,eAAC,KAAK,EAAE;AACX,UAAI,CAAC,IAAI,cACJ,KAAK;AACR,YAAI,EAAE,OAAO;SACb,CAAC;KACJ;;;WAEM,iBAAC,KAAK,EAAE;AACb,0BAAE,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,UAAA,OAAO;eAAI,OAAO,CAAC,GAAG,KAAK,KAAK,CAAC,GAAG;OAAA,CAAC,CAAC;AAC5D,UAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KAC1B","file":"alerts_service.js","sourcesContent":["import _ from 'lodash';\n\n\nexport default class {\n  constructor({ Tracker }) {\n    if (!Tracker) {\n      throw new Error('please provide Tracker in your context');\n    }\n    this.confirmCallbacks = {};\n    this.alerts = [];\n    this.alertsDep = new Tracker.Dependency();\n  }\n\n  list() {\n    this.alertsDep.depend();\n    return _.clone(this.alerts); // we provide a copy\n  }\n  show({ title, message, dismissAfter = 8000, onDismiss, actionLabel, onActionClick, type = 'default', i18n = true }) {\n    this.alerts.push({\n      title,\n      message,\n      onDismiss,\n      actionLabel,\n      onActionClick,\n      dismissAfter,\n      type,\n      i18n,\n      key: this.alerts.length,\n    });\n    this.alertsDep.changed();\n  }\n\n  error(props) {\n    this.show({\n      ...props,\n      type: 'error',\n    });\n  }\n\n  dismiss(alert) {\n    _.remove(this.alerts, anAlert => anAlert.key === alert.key);\n    this.alertsDep.changed();\n  }\n\n}\n"]}